%This is the main file to run ge.
function [pop, best]=ge_main(numgens, popsize, data, genome_length)
    if(exist('numgens', 'var')==0)
        numgens=50;
    end
    if(exist('popsize', 'var')==0)
        popsize=200;
    end
    if(exist('data', 'var')==0)
        data=ge_load_dataset('p563-input-params-cond-n-exp-wise.txt', 'Subj-MOS-1328-cond-wise-sorted.txt', 'combined-p563-features-Nortel-czech.txt', 'combined-ACR-MOS-Nortel-czech.txt');
    end
    
    %Load the grammar, you are going to need it.
    grammar=loadGrammar('sr.bnf');
    pop=ge_initPop(popsize, genome_length, grammar);
    pop=ge_evalPop(pop, data);
    
    
    
    for(i=1:numgens)
       childPopulation=createChildPopulation(population);
       childPopulation=ge_evalPop(childPopulation, data);
       population=ge_replacement(population, childPopulation);
    end
end